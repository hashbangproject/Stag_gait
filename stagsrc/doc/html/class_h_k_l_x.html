<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>stag_doc: HKLX Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">stag_doc
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">HKLX Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="HKLX" -->
<p><code>#include &lt;<a class="el" href="_h_k_l_x_8h_source.html">stagsrc/src/HKLX.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for HKLX:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x__coll__graph.png" border="0" usemap="#_h_k_l_x_coll__map" alt="Collaboration graph"/></div>
<map name="_h_k_l_x_coll__map" id="_h_k_l_x_coll__map">
<area shape="rect" id="node2" href="_h_k_l_x_8h.html#struct__hklx" title="_hklx" alt="" coords="47,101,100,131"/><area shape="rect" id="node4" href="_h_k_l_x_8h.html#struct___e_e_p" title="_EEP" alt="" coords="5,5,61,35"/><area shape="rect" id="node6" href="_h_k_l_x_8h.html#struct___r_a_m" title="_RAM" alt="" coords="85,5,144,35"/><area shape="rect" id="node10" href="_h_k_l_x_8h.html#structtest__struct" title="test_struct" alt="" coords="271,101,353,131"/><area shape="rect" id="node12" href="_h_k_l_x_8h.html#structhklx__packet__t" title="hklx_packet_t" alt="" coords="261,5,363,35"/><area shape="rect" id="node15" href="_h_k_l_x_8h.html#structhklx__decoder__t" title="hklx_decoder_t" alt="" coords="431,101,540,131"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a3b368e0951020d2d8862496edb02faec">HKLX</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a31149d0626255b67f07069087865f192">HKLX</a> (const <a class="el" href="class_h_k_l_x.html">HKLX</a> &amp;orig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a4de6b0cb247f6f95983ed3980c8adda3">~HKLX</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a58b773743d3de508999cdead51bec2aa">add2queue</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a84b7db34fb37f5f950d7aeef5ab33819">hklx_packet_parse</a> (<a class="el" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *hklx_packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#ab8091852c39f5298ae644ac607450261">discover</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a0759588f318d31306a3eb4878b20a2fd">send</a> (<a class="el" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *hklx_packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a292f55e6e23d9e582c53a92a8d28eba2">state</a> (<a class="el" href="_h_k_l_x_8h.html#struct__hklx">_hklx</a> out[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a612fd63d5c252caedcb27344094a68f2">recive</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#ad664789311240775d204db3d462e14fc">poll</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a4cceb49d2fa6d0ef84b39e8998bb0e4c">loop</a> (void *obj)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#ab3d00afec90bd5d2138b0a28a5ecdec2">fr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a9cda2ada8a70373d94c5876c4fdc0bc3">start</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#ad58bb5959b58a840641cabe47a44f47f">query</a> (<a class="el" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *query_packet)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a3b8a78a42300a356da0e61fee81ed845">active</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a6056a31797f340b7d9960ff1ee8e9630">thread</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#ac8298dbf1bc35fde4dc35b720e52ad6c">prv</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_h_k_l_x_8h.html#struct__hklx">_hklx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#afd26d663618766a14b84445b551fa08b">id</a> [254]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_h_k_l_x_8h.html#structhklx__decoder__t">hklx_decoder_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">hklx_fd</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00310">310</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b368e0951020d2d8862496edb02faec"></a><!-- doxytag: member="HKLX::HKLX" ref="a3b368e0951020d2d8862496edb02faec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_k_l_x.html#a3b368e0951020d2d8862496edb02faec">HKLX::HKLX</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00485">485</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8h_source.html#l00021">BAUD</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00022">HKLX_COM</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00021">hklx_decoder_initialise()</a>, and <a class="el" href="rs232_8c_source.html#l00312">OpenComport()</a>.</p>
<div class="fragment"><pre class="fragment">           {

    <span class="comment">//hklx_fd = OpenComport(HKLX_COM, BAUD,500000);</span>
    <a class="code" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">hklx_fd</a> = <a class="code" href="rs232_8c.html#afcbe0bdca93dd392b104bf7c7775ba42">OpenComport</a>(<a class="code" href="_h_k_l_x_8h.html#a594b12c102563c4af70798aefc0a09d1">HKLX_COM</a>, <a class="code" href="_h_k_l_x_8h.html#a62634036639f88eece6fbf226b45f84b">BAUD</a>, 666666);
    <a class="code" href="_h_k_l_x_8cpp.html#a640d662c179178675b8af36eccb7a4c5">hklx_decoder_initialise</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>);

    <span class="comment">//hklx_packet_t *hklx_packet = hklx_packet_allocate(3, BROADCAST_ID, CMD_EEP_WRITE);</span>

    <span class="comment">//hklx_packet-&gt;data[0] = 0x04;</span>
    <span class="comment">//hklx_packet-&gt;data[1] = 0x01;</span>
    <span class="comment">//hklx_packet-&gt;data[2] = 0x02;</span>
    <span class="comment">//hklx_send(hklx_packet);</span>

    <span class="comment">//hklx_send(hklx_packet);</span>
    <span class="comment">//hklx_packet_free(&amp;hklx_packet);</span>

    <span class="comment">//printf(&quot;done\n&quot;);</span>
    <span class="comment">//usleep(100000000000000);</span>
    <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a> = NULL;
    <a class="code" href="class_h_k_l_x.html#ab8091852c39f5298ae644ac607450261">discover</a>();

    <a class="code" href="class_h_k_l_x.html#a3b8a78a42300a356da0e61fee81ed845">active</a> = 1;




    <span class="comment">//usleep(100000000000000);</span>

    pthread_mutex_init(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>, NULL);

    <a class="code" href="class_h_k_l_x.html#a9cda2ada8a70373d94c5876c4fdc0bc3">start</a> = (double) getTickCount();
    <a class="code" href="class_h_k_l_x.html#ab3d00afec90bd5d2138b0a28a5ecdec2">fr</a> = 0;
    <span class="comment">//pthread_create(&amp;thread, 0, &amp;HKLX::loop, this);</span>


}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_a3b368e0951020d2d8862496edb02faec_cgraph.png" border="0" usemap="#class_h_k_l_x_a3b368e0951020d2d8862496edb02faec_cgraph" alt=""/></div>
<map name="class_h_k_l_x_a3b368e0951020d2d8862496edb02faec_cgraph" id="class_h_k_l_x_a3b368e0951020d2d8862496edb02faec_cgraph">
<area shape="rect" id="node3" href="_h_k_l_x_8cpp.html#a640d662c179178675b8af36eccb7a4c5" title="hklx_decoder_initialise" alt="" coords="156,5,308,35"/><area shape="rect" id="node5" href="rs232_8c.html#afcbe0bdca93dd392b104bf7c7775ba42" title="OpenComport" alt="" coords="181,59,283,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31149d0626255b67f07069087865f192"></a><!-- doxytag: member="HKLX::HKLX" ref="a31149d0626255b67f07069087865f192" args="(const HKLX &amp;orig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_k_l_x.html#a3b368e0951020d2d8862496edb02faec">HKLX::HKLX</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_h_k_l_x.html">HKLX</a> &amp;&#160;</td>
          <td class="paramname"><em>orig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00522">522</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                           {
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4de6b0cb247f6f95983ed3980c8adda3"></a><!-- doxytag: member="HKLX::~HKLX" ref="a4de6b0cb247f6f95983ed3980c8adda3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_h_k_l_x.html#a4de6b0cb247f6f95983ed3980c8adda3">HKLX::~HKLX</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00525">525</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>
<div class="fragment"><pre class="fragment">            {

    <span class="keywordflow">if</span> (<a class="code" href="class_h_k_l_x.html#a3b8a78a42300a356da0e61fee81ed845">active</a> == 0) {

        pthread_mutex_destroy(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);
        pthread_join(<a class="code" href="class_h_k_l_x.html#a6056a31797f340b7d9960ff1ee8e9630">thread</a>, 0);
    }

}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a58b773743d3de508999cdead51bec2aa"></a><!-- doxytag: member="HKLX::add2queue" ref="a58b773743d3de508999cdead51bec2aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_h_k_l_x.html#a58b773743d3de508999cdead51bec2aa">HKLX::add2queue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00747">747</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8h_source.html#l00304">test_struct::del</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00307">test_struct::next</a>, and <a class="el" href="_h_k_l_x_8h_source.html#l00303">test_struct::val</a>.</p>
<div class="fragment"><pre class="fragment">                     {


    <span class="comment">//printf(&quot;TRYLOCKA\n&quot;);</span>
    pthread_mutex_lock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);
    <span class="comment">//printf(&quot;lock a\n&quot;);</span>
    <a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a> *ptr;
    ptr = (<a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>*) malloc(<span class="keyword">sizeof</span> (<a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>));

    ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#a6e8d8e73326678b53115768e13860f5e">val</a> = 244;
    ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#ad489fc91ffb89818873a0f414696fc21">del</a> = 1;
    ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a>;
    <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a> = ptr;
    pthread_mutex_unlock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);

}
</pre></div>
</div>
</div>
<a class="anchor" id="ab8091852c39f5298ae644ac607450261"></a><!-- doxytag: member="HKLX::discover" ref="ab8091852c39f5298ae644ac607450261" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_h_k_l_x.html#ab8091852c39f5298ae644ac607450261">HKLX::discover</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00535">535</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8cpp_source.html#l00045">calculate_crc()</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00061">CMD_RAM_READ</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00211">hklx_packet_t::CRC</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00213">hklx_packet_t::data</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00304">test_struct::del</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00026">hklx_packet_allocate()</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00209">hklx_packet_t::id</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00307">test_struct::next</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00305">test_struct::packet</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00208">hklx_packet_t::packetsize</a>, and <a class="el" href="_h_k_l_x_8h_source.html#l00303">test_struct::val</a>.</p>
<div class="fragment"><pre class="fragment">                    {


    <span class="comment">//update shoud be 54 then 12</span>

    <span class="comment">//hklx_packet_t *hklx_packet = hklx_packet_allocate(2, 0x00, CMD_RAM_READ);</span>
    <span class="comment">//hklx_packet-&gt;data[0] = 0;</span>
    <span class="comment">//hklx_packet-&gt;data[1] = 74;</span>

    <span class="comment">//hklx_packet_free(&amp;hklx_packet);</span>

    <span class="comment">/*</span>
<span class="comment">    for (int i = 0; i &lt; 254; i++) {</span>
<span class="comment"></span>
<span class="comment">        hklx_packet-&gt;id = (uint8_t) (i);</span>
<span class="comment">        hklx_send(hklx_packet);</span>
<span class="comment">        //int rval = recive();</span>
<span class="comment">        id[i].connected=recive();</span>
<span class="comment">        </span>
<span class="comment">        if(id[i].connected){</span>
<span class="comment">            connected_id.push_back(i);</span>
<span class="comment">        }</span>
<span class="comment">        </span>
<span class="comment">        //printf(&quot;%i\n&quot;, rval);</span>
<span class="comment"></span>
<span class="comment">        //usleep(10000);</span>
<span class="comment">    }*/</span>

    <span class="comment">//id[i].connected=recive();</span>


    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(1);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(2);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(3);

    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(8);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(9);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(10);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(11);

    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(16);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(17);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(18);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(19);

    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(20);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(21);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(22);
    <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.push_back(23);

    <span class="comment">//connected_id.push_back(13);</span>
    <span class="comment">//connected_id.push_back(14);</span>

    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);

    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);

    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);

    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);
    <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>.push_back(0);

    <span class="comment">//state_ready.push_back(0);</span>
    <span class="comment">//state_ready.push_back(0);</span>


    <span class="comment">/*</span>
<span class="comment">    connected_id.push_back(2);</span>
<span class="comment">    connected_id.push_back(3);</span>
<span class="comment">    state_ready.push_back(0);</span>
<span class="comment">    state_ready.push_back(0);    </span>
<span class="comment">     */</span>

    <span class="comment">//hklx_packet_t *hklx_packet = hklx_packet_allocate(2, 0x00, CMD_RAM_READ);</span>
    <span class="comment">//hklx_packet_t *hklx_packet = hklx_packet_allocate(2, BROADCAST_ID, CMD_RAM_READ);</span>
    <span class="comment">//hklx_packet-&gt;data[0] = 54;</span>
    <span class="comment">//hklx_packet-&gt;data[0] = 1;</span>
    <span class="comment">//hklx_packet-&gt;data[1] = 1;</span>
    <span class="comment">//hklx_send(hklx_packet);</span>

    <span class="comment">//int rval = recive();</span>

    <span class="comment">//queue = (struct test_struct*)malloc(sizeof(struct test_struct));</span>

    <span class="comment">//queue-&gt;next=queue;</span>


    <span class="comment">//hklx_packet = hklx_packet_allocate(2, 0x00, CMD_RAM_READ);</span>
    <span class="comment">//hklx_packet-&gt;data[0] = 0;</span>
    <span class="comment">//hklx_packet-&gt;data[1] = 74;</span>


    <span class="comment">//printf(&quot;%i\n&quot;,sizeof(test_struct));</span>

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.size(); i++) {

        <span class="keywordflow">if</span> (<a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a> == NULL) {
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a> = (<a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>*) malloc(<span class="keyword">sizeof</span> (<a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>));

            <span class="comment">//hklx_packet-&gt;id=connected_id[i];</span>
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a> = <a class="code" href="_h_k_l_x_8cpp.html#a9da94aab820ef29dc03f5282d8113ed5">hklx_packet_allocate</a>(2, 0x00, <a class="code" href="_h_k_l_x_8h.html#a0e173fdbe5f4f960d2a87cd1f2dddaac">CMD_RAM_READ</a>);
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[0] = 58;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[1] = 8;
            <span class="comment">//queue-&gt;packet-&gt;data[0] = 54;</span>
            <span class="comment">//queue-&gt;packet-&gt;data[1] = 12;</span>
            <span class="comment">//queue-&gt;packet-&gt;data[0] = 45;</span>
            <span class="comment">//queue-&gt;packet-&gt;data[1] = 23;</span>

            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a> = <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>[i];
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a6635d509bb08802dc64afa207294a81e">CRC</a> = <a class="code" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3">calculate_crc</a>(&amp;<a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a9733fc65ce64ced1c31f0e93abe60246">packetsize</a>);

            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a6e8d8e73326678b53115768e13860f5e">val</a> = i;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#ad489fc91ffb89818873a0f414696fc21">del</a> = 0;
            <a class="code" href="class_h_k_l_x.html#ac8298dbf1bc35fde4dc35b720e52ad6c">prv</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>;
        } <span class="keywordflow">else</span> {

            <a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a> *ptr = (<a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>*) malloc(<span class="keyword">sizeof</span> (<a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>));
            <span class="comment">//hklx_packet-&gt;id=connected_id[i];</span>

            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a> = <a class="code" href="_h_k_l_x_8cpp.html#a9da94aab820ef29dc03f5282d8113ed5">hklx_packet_allocate</a>(2, 0x00, <a class="code" href="_h_k_l_x_8h.html#a0e173fdbe5f4f960d2a87cd1f2dddaac">CMD_RAM_READ</a>);
            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[0] = 58;
            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[1] = 8;
            <span class="comment">//ptr-&gt;packet-&gt;data[0] = 54;</span>
            <span class="comment">//ptr-&gt;packet-&gt;data[1] = 12;</span>
            <span class="comment">//ptr-&gt;packet-&gt;data[0] = 45;</span>
            <span class="comment">//ptr-&gt;packet-&gt;data[1] = 23;</span>
            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a> = <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>[i];
            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a6635d509bb08802dc64afa207294a81e">CRC</a> = <a class="code" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3">calculate_crc</a>(&amp;ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a9733fc65ce64ced1c31f0e93abe60246">packetsize</a>);


            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#a6e8d8e73326678b53115768e13860f5e">val</a> = i;
            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#ad489fc91ffb89818873a0f414696fc21">del</a> = 0;
            ptr-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a>;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a> = ptr;
            <a class="code" href="class_h_k_l_x.html#ac8298dbf1bc35fde4dc35b720e52ad6c">prv</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a>;


        }

    }

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_ab8091852c39f5298ae644ac607450261_cgraph.png" border="0" usemap="#class_h_k_l_x_ab8091852c39f5298ae644ac607450261_cgraph" alt=""/></div>
<map name="class_h_k_l_x_ab8091852c39f5298ae644ac607450261_cgraph" id="class_h_k_l_x_ab8091852c39f5298ae644ac607450261_cgraph">
<area shape="rect" id="node3" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3" title="calculate_crc" alt="" coords="191,5,289,35"/><area shape="rect" id="node5" href="_h_k_l_x_8cpp.html#a9da94aab820ef29dc03f5282d8113ed5" title="hklx_packet_allocate" alt="" coords="168,59,312,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a84b7db34fb37f5f950d7aeef5ab33819"></a><!-- doxytag: member="HKLX::hklx_packet_parse" ref="a84b7db34fb37f5f950d7aeef5ab33819" args="(hklx_packet_t *hklx_packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_h_k_l_x.html#a84b7db34fb37f5f950d7aeef5ab33819">HKLX::hklx_packet_parse</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *&#160;</td>
          <td class="paramname"><em>hklx_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00248">248</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8h_source.html#l00082">CALIBRATE_MASK</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00210">hklx_packet_t::cmd</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00087">CMD_RAM_READ_ACK</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00213">hklx_packet_t::data</a>, and <a class="el" href="_h_k_l_x_8h_source.html#l00209">hklx_packet_t::id</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {

    <span class="keywordflow">switch</span> (hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#aee6429fd4c82a89a354b9e799bb667ef">cmd</a>) {

        <span class="keywordflow">case</span> <a class="code" href="_h_k_l_x_8h.html#a8126464981eb2c57b62f93c0705f7914">CMD_RAM_READ_ACK</a>:

            <span class="comment">/*double exec_time = (double) getTickCount();</span>
<span class="comment">        usleep(1000000);</span>
<span class="comment">        //stag.hklx.update();</span>
<span class="comment">        exec_time = ((double) getTickCount() - exec_time) / getTickFrequency();*/</span>


            memcpy(&amp;<span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.ID + (<span class="keywordtype">int</span>) (hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[0]), &amp;hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[2], hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#ae5370229e56026807223858f0d6cdedc">data</a>[1]);
            <span class="keywordtype">double</span> new_tc = (double) getTickCount();
            <span class="keywordtype">float</span> new_w = ((float) <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Differential_Position)*29.09f * M_PI / 180.0f;

            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Calibrated_Position = (<span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Calibrated_Position &amp; <a class="code" href="_h_k_l_x_8h.html#a4a935c6536bd8af0f0acfd8e922b3ded">CALIBRATE_MASK</a>);
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].abs_phi = ((float) <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Absolute_Position)*0.3258064516f - 166.650f;
            <span class="comment">//id[hklx_packet-&gt;id].phi = ((float) id[hklx_packet-&gt;id].RAM.Calibrated_Position)*0.3258064516f - 166.650f;</span>

            <span class="keywordtype">float</span> newphi = ((float) <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Calibrated_Position)*0.3258064516f - 166.650f;
            <span class="comment">//id[hklx_packet-&gt;id].W = ((newphi-id[hklx_packet-&gt;id].phi)/((new_tc-id[hklx_packet-&gt;id].tc)/ getTickFrequency()))*M_PI/180.0f;            </span>
            <span class="keywordtype">float</span> newW = ((newphi - <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].phi) / ((new_tc - <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].tc) / getTickFrequency())) * M_PI / 180.0f;

            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].A = (newW - <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].W) / ((new_tc - <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].tc) / getTickFrequency());
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].a = (new_w - <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].w) / ((new_tc - <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].tc) / getTickFrequency());

            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].W = newW;
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].phi = newphi;
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].w = new_w;
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].tc = new_tc;


            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].vin = ((float) <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Voltage)*0.0740745098f;
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].temp = ((float) <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.Temperature)*1.497559055f - 79.47f;

            <span class="comment">//id[hklx_packet-&gt;id].RAM.PWM = (id[hklx_packet-&gt;id].RAM.PWM &amp; T_MASK);</span>
            <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].pwm = ((float) <span class="keywordtype">id</span>[hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1c9a701bfcb3a2ab05ebb86cc42e93d2">id</a>].RAM.PWM) / 1023.0;
            <span class="comment">//id[hklx_packet-&gt;id].w = ((float)id[hklx_packet-&gt;id].RAM.Differential_Position)*29.09f*M_PI/180.0f;</span>



            <span class="comment">//if(hklx_packet-&gt;id==2){</span>
            <span class="comment">//if(fabs(id[hklx_packet-&gt;id].pwm)&gt;0.3){</span>
            <span class="comment">//printf(&quot;%i\n&quot;,hklx_packet-&gt;data[1]);</span>
            <span class="comment">//printf(&quot;%i\n&quot;,id[hklx_packet-&gt;id].RAM.PWM);</span>

            <span class="comment">//for(int i=0;i&lt;hklx_packet-&gt;data[1];i++){</span>
            <span class="comment">//    printf(&quot;%02x&quot;,hklx_packet-&gt;data[2+i]);</span>
            <span class="comment">//for(int i=0;i&lt;hklx_packet-&gt;packetsize-7;i++){</span>
            <span class="comment">//    printf(&quot;%02x&quot;,hklx_packet-&gt;data[i]);</span>
            <span class="comment">//}</span>
            <span class="comment">//printf(&quot;\n&quot;);</span>
            <span class="comment">// }</span>
            <span class="comment">//}</span>

            <span class="comment">/*</span>
<span class="comment">            if(hklx_packet-&gt;id==3){</span>
<span class="comment">                //printf(&quot;%i\n&quot;,hklx_packet-&gt;data[1]);</span>
<span class="comment">                for(int i=0;i&lt;hklx_packet-&gt;data[1];i++){</span>
<span class="comment">                    printf(&quot;%02x&quot;,hklx_packet-&gt;data[2+i]);</span>
<span class="comment">                }</span>
<span class="comment">                printf(&quot;\n&quot;);</span>
<span class="comment">                </span>
<span class="comment">            }*/</span>

            <span class="comment">/*</span>
<span class="comment">            if(hklx_packet-&gt;id==2){</span>
<span class="comment">                printf(&quot;%i\n&quot;,hklx_packet-&gt;data[1]);</span>
<span class="comment">                for(int i=0;i&lt;hklx_packet-&gt;data[1];i++){</span>
<span class="comment">                    printf(&quot;%x&quot;,hklx_packet-&gt;data[2+i]);</span>
<span class="comment">                }</span>
<span class="comment">                printf(&quot;\n&quot;);</span>
<span class="comment">                </span>
<span class="comment">            }*/</span>

            <span class="comment">//printf(&quot;%i\n&quot;,hklx_packet-&gt;packetsize);</span>
            <span class="comment">//printf(&quot;%f\n&quot;,id[hklx_packet-&gt;id].phi);</span>

            <span class="keywordflow">break</span>;



            <span class="comment">/*</span>
<span class="comment">            case 1:</span>
<span class="comment"></span>
<span class="comment"></span>
<span class="comment">                break;</span>
<span class="comment">            case 2:</span>
<span class="comment"></span>
<span class="comment"></span>
<span class="comment">                break;</span>
<span class="comment">            case 3:</span>
<span class="comment"></span>
<span class="comment"></span>
<span class="comment">                break;</span>
<span class="comment">             */</span>
    }



}
</pre></div>
</div>
</div>
<a class="anchor" id="a4cceb49d2fa6d0ef84b39e8998bb0e4c"></a><!-- doxytag: member="HKLX::loop" ref="a4cceb49d2fa6d0ef84b39e8998bb0e4c" args="(void *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * <a class="el" href="class_h_k_l_x.html#a4cceb49d2fa6d0ef84b39e8998bb0e4c">HKLX::loop</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00743">743</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                          {
    <span class="keywordflow">while</span> (reinterpret_cast&lt;HKLX *&gt; (obj)-&gt;<a class="code" href="class_h_k_l_x.html#a3b8a78a42300a356da0e61fee81ed845">active</a>) <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="class_h_k_l_x.html">HKLX</a> *<span class="keyword">&gt;</span> (obj)-&gt; <a class="code" href="class_h_k_l_x.html#ad664789311240775d204db3d462e14fc">poll</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad664789311240775d204db3d462e14fc"></a><!-- doxytag: member="HKLX::poll" ref="ad664789311240775d204db3d462e14fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_h_k_l_x.html#ad664789311240775d204db3d462e14fc">HKLX::poll</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00764">764</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8cpp_source.html#l00040">hklx_packet_free()</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00307">test_struct::next</a>, and <a class="el" href="_h_k_l_x_8h_source.html#l00305">test_struct::packet</a>.</p>
<div class="fragment"><pre class="fragment">                {


    pthread_mutex_lock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);
    <span class="comment">//double exec_time = (double) getTickCount();</span>
    <span class="comment">//query(queue-&gt;packet);</span>
    <span class="comment">//exec_time = ((double) getTickCount() - exec_time) / getTickFrequency();</span>
    <span class="comment">//printf(&quot;%f\n&quot;, exec_time);</span>
    <span class="comment">//state_ready[queue-&gt;val]=1;</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_h_k_l_x.html#ad58bb5959b58a840641cabe47a44f47f">query</a>(<a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>)) {
        <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>[<a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a6e8d8e73326678b53115768e13860f5e">val</a>] = 1;
    }

    <span class="comment">//usleep(1000);</span>
    pthread_mutex_unlock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);

    <span class="comment">//if(queue-&gt;val==0){</span>
    <span class="comment">//fr++;</span>
    <span class="comment">//printf(&quot;%f\n&quot;, fr / (((double) getTickCount() - start) / getTickFrequency()));</span>
    <span class="comment">//}</span>

    <span class="keywordflow">switch</span> (<a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#ad489fc91ffb89818873a0f414696fc21">del</a>) {

        <span class="keywordflow">case</span> 0:
            <a class="code" href="class_h_k_l_x.html#ac8298dbf1bc35fde4dc35b720e52ad6c">prv</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a>;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> 1:


            <a class="code" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a> *del = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>;
            <a class="code" href="class_h_k_l_x.html#ac8298dbf1bc35fde4dc35b720e52ad6c">prv</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a> = del-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a>;
            <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a> = <a class="code" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">queue</a>-&gt;<a class="code" href="_h_k_l_x_8h.html#a4930e75f079aa863c1b98ce1ed73b3d4">next</a>;
            <a class="code" href="_h_k_l_x_8cpp.html#ab2c5c6eefb8a8d82d388456e0514fd7d">hklx_packet_free</a>(&amp;del-&gt;<a class="code" href="_h_k_l_x_8h.html#aea1f0abfe9513cfc222bbf2cc1be1d68">packet</a>);
            free(del);

            <span class="keywordflow">break</span>;


    }


    <span class="comment">//usleep(2200);</span>

    usleep(20);
    <span class="comment">//usleep(2000);</span>
    <span class="comment">//usleep(1);</span>
    <span class="comment">//add2queue();</span>

    <span class="comment">//usleep(500000);</span>



}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_ad664789311240775d204db3d462e14fc_cgraph.png" border="0" usemap="#class_h_k_l_x_ad664789311240775d204db3d462e14fc_cgraph" alt=""/></div>
<map name="class_h_k_l_x_ad664789311240775d204db3d462e14fc_cgraph" id="class_h_k_l_x_ad664789311240775d204db3d462e14fc_cgraph">
<area shape="rect" id="node3" href="_h_k_l_x_8cpp.html#ab2c5c6eefb8a8d82d388456e0514fd7d" title="hklx_packet_free" alt="" coords="140,5,260,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad58bb5959b58a840641cabe47a44f47f"></a><!-- doxytag: member="HKLX::query" ref="ad58bb5959b58a840641cabe47a44f47f" args="(hklx_packet_t *query_packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_h_k_l_x.html#ad58bb5959b58a840641cabe47a44f47f">HKLX::query</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *&#160;</td>
          <td class="paramname"><em>query_packet</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00430">430</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8h_source.html#l00207">hklx_packet_t::header</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00022">HKLX_COM</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00294">hklx_decoder_increment</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00292">hklx_decoder_pointer</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00293">hklx_decoder_size</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00103">hklx_packet_decode_new()</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00040">hklx_packet_free()</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00208">hklx_packet_t::packetsize</a>, <a class="el" href="rs232_8c_source.html#l00405">PollComport()</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00426">return_length()</a>, and <a class="el" href="rs232_8c_source.html#l00432">SendBuf()</a>.</p>
<div class="fragment"><pre class="fragment">                                           {

    <span class="comment">//query_packet-&gt;CRC = calculate_crc(&amp;query_packet-&gt;packetsize);</span>
    <a class="code" href="rs232_8c.html#af2a032058a335a76ef91d025ac63942b">SendBuf</a>(<a class="code" href="_h_k_l_x_8h.html#a594b12c102563c4af70798aefc0a09d1">HKLX_COM</a>, &amp;query_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1e4242410fcf4f13c784ed91dff36aef">header</a>[0], query_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a9733fc65ce64ced1c31f0e93abe60246">packetsize</a>);

    <span class="keywordtype">int</span> length = <a class="code" href="_h_k_l_x_8cpp.html#a856e195de3801d353ebcdcca3b86915e">return_length</a>(query_packet);

    <a class="code" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *hklx_packet;
    <span class="keywordtype">int</span> bytes_received = 0;
    fd_set fds;
    FD_ZERO(&amp;fds);
    FD_SET(<a class="code" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">hklx_fd</a>, &amp;fds);
    <span class="keyword">struct </span>timeval timeout = {0, 3000};
    <span class="keywordtype">int</span> ret = select(<a class="code" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">hklx_fd</a> + 1, &amp;fds, NULL, NULL, &amp;timeout); <span class="comment">//CHANGE TO PSELECT</span>

    <span class="comment">//printf(&quot;%i\n&quot;,length);</span>

    <span class="keywordflow">while</span> (<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>.<a class="code" href="_h_k_l_x_8h.html#a803d4dd76ada1ebf8aab7295b77b7740">buffer_length</a> &lt; length) {<span class="comment">//here in lies the rub</span>
        <span class="keywordflow">if</span> ((bytes_received = <a class="code" href="rs232_8c.html#ad2ab07792b6f73449d98cc5f906fd0a8">PollComport</a>(<a class="code" href="_h_k_l_x_8h.html#a594b12c102563c4af70798aefc0a09d1">HKLX_COM</a>, <a class="code" href="_h_k_l_x_8h.html#a552c6d4d05d84d12c88b484792d041a6">hklx_decoder_pointer</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>), <a class="code" href="_h_k_l_x_8h.html#ac01e5edba81aa2e2f2cde02d589a368f">hklx_decoder_size</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>))) &gt; 0) {
            <a class="code" href="_h_k_l_x_8h.html#aef43ccd6ac94a5ab2d2b09d215cd0a73">hklx_decoder_increment</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>, bytes_received);
        }
    }

    <span class="keywordflow">if</span> ((hklx_packet = <a class="code" href="_h_k_l_x_8cpp.html#a74721ea6ad82dd1060ac180652d30f0e">hklx_packet_decode_new</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>)) != NULL) {
        <a class="code" href="class_h_k_l_x.html#a84b7db34fb37f5f950d7aeef5ab33819">hklx_packet_parse</a>(hklx_packet);

        <a class="code" href="_h_k_l_x_8cpp.html#ab2c5c6eefb8a8d82d388456e0514fd7d">hklx_packet_free</a>(&amp;hklx_packet);
        <span class="keywordflow">return</span> 1;
    }



    <span class="comment">/*</span>
<span class="comment">    while (1) {</span>
<span class="comment">        </span>
<span class="comment">        if ((bytes_received = PollComport(HKLX_COM, hklx_decoder_pointer(&amp;hklx_decoder), hklx_decoder_size(&amp;hklx_decoder))) &gt; 0) {</span>
<span class="comment">        //if ((bytes_received = PollComport(HKLX_COM, hklx_decoder_pointer(&amp;hklx_decoder), 1)) &gt; 0) {</span>
<span class="comment">            //printf(&quot;%i\n&quot;,bytes_received);</span>
<span class="comment">            hklx_decoder_increment(&amp;hklx_decoder, bytes_received);</span>
<span class="comment">            </span>
<span class="comment">            </span>
<span class="comment">            while ((hklx_packet = hklx_packet_decode(&amp;hklx_decoder)) != NULL) {</span>
<span class="comment">                //hklx_packet_parse(hklx_packet);</span>
<span class="comment"></span>
<span class="comment">                hklx_packet_free(&amp;hklx_packet);</span>
<span class="comment">                return 1;</span>
<span class="comment">            }</span>
<span class="comment">            </span>
<span class="comment">            </span>
<span class="comment">        }</span>
<span class="comment">    }*/</span>

    <span class="keywordflow">return</span> 0; <span class="comment">//lolz</span>
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_ad58bb5959b58a840641cabe47a44f47f_cgraph.png" border="0" usemap="#class_h_k_l_x_ad58bb5959b58a840641cabe47a44f47f_cgraph" alt=""/></div>
<map name="class_h_k_l_x_ad58bb5959b58a840641cabe47a44f47f_cgraph" id="class_h_k_l_x_ad58bb5959b58a840641cabe47a44f47f_cgraph">
<area shape="rect" id="node3" href="_h_k_l_x_8cpp.html#a74721ea6ad82dd1060ac180652d30f0e" title="hklx_packet_decode_new" alt="" coords="153,32,324,61"/><area shape="rect" id="node9" href="_h_k_l_x_8cpp.html#ab2c5c6eefb8a8d82d388456e0514fd7d" title="hklx_packet_free" alt="" coords="179,85,299,115"/><area shape="rect" id="node11" href="rs232_8c.html#ad2ab07792b6f73449d98cc5f906fd0a8" title="PollComport" alt="" coords="192,139,285,168"/><area shape="rect" id="node13" href="_h_k_l_x_8cpp.html#a856e195de3801d353ebcdcca3b86915e" title="return_length" alt="" coords="191,192,287,221"/><area shape="rect" id="node15" href="rs232_8c.html#af2a032058a335a76ef91d025ac63942b" title="SendBuf" alt="" coords="203,245,275,275"/><area shape="rect" id="node5" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3" title="calculate_crc" alt="" coords="396,5,495,35"/><area shape="rect" id="node7" href="_h_k_l_x_8cpp.html#a9da94aab820ef29dc03f5282d8113ed5" title="hklx_packet_allocate" alt="" coords="373,59,517,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a612fd63d5c252caedcb27344094a68f2"></a><!-- doxytag: member="HKLX::recive" ref="a612fd63d5c252caedcb27344094a68f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_h_k_l_x.html#a612fd63d5c252caedcb27344094a68f2">HKLX::recive</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00390">390</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8h_source.html#l00022">HKLX_COM</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00294">hklx_decoder_increment</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00292">hklx_decoder_pointer</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00293">hklx_decoder_size</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00169">hklx_packet_decode()</a>, <a class="el" href="_h_k_l_x_8cpp_source.html#l00040">hklx_packet_free()</a>, and <a class="el" href="rs232_8c_source.html#l00405">PollComport()</a>.</p>
<div class="fragment"><pre class="fragment">                 {

    <a class="code" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *hklx_packet;
    <span class="keywordtype">int</span> bytes_received = 0;



    fd_set fds;
    FD_ZERO(&amp;fds);
    FD_SET(<a class="code" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">hklx_fd</a>, &amp;fds);
    <span class="keyword">struct </span>timeval timeout = {1, 0};
    <span class="keywordtype">int</span> ret = select(<a class="code" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">hklx_fd</a> + 1, &amp;fds, NULL, NULL, &amp;timeout);

    <span class="keywordflow">if</span> (ret &gt; 0)
        <span class="keywordflow">while</span> (1) {

            <span class="keywordflow">if</span> ((bytes_received = <a class="code" href="rs232_8c.html#ad2ab07792b6f73449d98cc5f906fd0a8">PollComport</a>(<a class="code" href="_h_k_l_x_8h.html#a594b12c102563c4af70798aefc0a09d1">HKLX_COM</a>, <a class="code" href="_h_k_l_x_8h.html#a552c6d4d05d84d12c88b484792d041a6">hklx_decoder_pointer</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>), <a class="code" href="_h_k_l_x_8h.html#ac01e5edba81aa2e2f2cde02d589a368f">hklx_decoder_size</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>))) &gt; 0) {
                <span class="comment">//printf(&quot;%i\n&quot;,bytes_received);</span>
                <a class="code" href="_h_k_l_x_8h.html#aef43ccd6ac94a5ab2d2b09d215cd0a73">hklx_decoder_increment</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>, bytes_received);
                <span class="keywordflow">while</span> ((hklx_packet = <a class="code" href="_h_k_l_x_8cpp.html#ab651bb0559faeefffa1ce7b11176dbe5">hklx_packet_decode</a>(&amp;<a class="code" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">hklx_decoder</a>)) != NULL) {
                    <a class="code" href="class_h_k_l_x.html#a84b7db34fb37f5f950d7aeef5ab33819">hklx_packet_parse</a>(hklx_packet);

                    <a class="code" href="_h_k_l_x_8cpp.html#ab2c5c6eefb8a8d82d388456e0514fd7d">hklx_packet_free</a>(&amp;hklx_packet);
                    <span class="keywordflow">return</span> 1;
                }

            }
        }

    <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_a612fd63d5c252caedcb27344094a68f2_cgraph.png" border="0" usemap="#class_h_k_l_x_a612fd63d5c252caedcb27344094a68f2_cgraph" alt=""/></div>
<map name="class_h_k_l_x_a612fd63d5c252caedcb27344094a68f2_cgraph" id="class_h_k_l_x_a612fd63d5c252caedcb27344094a68f2_cgraph">
<area shape="rect" id="node3" href="_h_k_l_x_8cpp.html#ab651bb0559faeefffa1ce7b11176dbe5" title="hklx_packet_decode" alt="" coords="155,32,296,61"/><area shape="rect" id="node9" href="_h_k_l_x_8cpp.html#ab2c5c6eefb8a8d82d388456e0514fd7d" title="hklx_packet_free" alt="" coords="165,85,285,115"/><area shape="rect" id="node11" href="rs232_8c.html#ad2ab07792b6f73449d98cc5f906fd0a8" title="PollComport" alt="" coords="179,139,272,168"/><area shape="rect" id="node5" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3" title="calculate_crc" alt="" coords="367,5,465,35"/><area shape="rect" id="node7" href="_h_k_l_x_8cpp.html#a9da94aab820ef29dc03f5282d8113ed5" title="hklx_packet_allocate" alt="" coords="344,59,488,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0759588f318d31306a3eb4878b20a2fd"></a><!-- doxytag: member="HKLX::send" ref="a0759588f318d31306a3eb4878b20a2fd" args="(hklx_packet_t *hklx_packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_h_k_l_x.html#a0759588f318d31306a3eb4878b20a2fd">HKLX::send</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_h_k_l_x_8h.html#structhklx__packet__t">hklx_packet_t</a> *&#160;</td>
          <td class="paramname"><em>hklx_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00094">94</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8cpp_source.html#l00045">calculate_crc()</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00211">hklx_packet_t::CRC</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00207">hklx_packet_t::header</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00022">HKLX_COM</a>, <a class="el" href="_h_k_l_x_8h_source.html#l00208">hklx_packet_t::packetsize</a>, and <a class="el" href="rs232_8c_source.html#l00432">SendBuf()</a>.</p>

<p>Referenced by <a class="el" href="_stag_8cpp_source.html#l00259">main()</a>, and <a class="el" href="_stag_8cpp_source.html#l00112">Stag::sjb()</a>.</p>
<div class="fragment"><pre class="fragment">                                          {

    pthread_mutex_lock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);
    hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a6635d509bb08802dc64afa207294a81e">CRC</a> = <a class="code" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3">calculate_crc</a>(&amp;hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a9733fc65ce64ced1c31f0e93abe60246">packetsize</a>);
    <a class="code" href="rs232_8c.html#af2a032058a335a76ef91d025ac63942b">SendBuf</a>(<a class="code" href="_h_k_l_x_8h.html#a594b12c102563c4af70798aefc0a09d1">HKLX_COM</a>, &amp;hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a1e4242410fcf4f13c784ed91dff36aef">header</a>[0], hklx_packet-&gt;<a class="code" href="_h_k_l_x_8h.html#a9733fc65ce64ced1c31f0e93abe60246">packetsize</a>);
    pthread_mutex_unlock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_cgraph.png" border="0" usemap="#class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_cgraph" alt=""/></div>
<map name="class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_cgraph" id="class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_cgraph">
<area shape="rect" id="node3" href="_h_k_l_x_8cpp.html#ad8892eedbe6f1c4673af8a363c4a0ce3" title="calculate_crc" alt="" coords="147,5,245,35"/><area shape="rect" id="node5" href="rs232_8c.html#af2a032058a335a76ef91d025ac63942b" title="SendBuf" alt="" coords="160,59,232,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_icgraph.png" border="0" usemap="#class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_icgraph" alt=""/></div>
<map name="class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_icgraph" id="class_h_k_l_x_a0759588f318d31306a3eb4878b20a2fd_icgraph">
<area shape="rect" id="node3" href="_stag_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="435,5,485,35"/><area shape="rect" id="node5" href="class_stag.html#a3d2838ab8f8cdb73f1671154fd7cbdf0" title="Stag::sjb" alt="" coords="147,31,221,60"/><area shape="rect" id="node7" href="class_stag.html#a5cbd6ef1d983e58185f8d16c048a6bec" title="Stag::body_jogn" alt="" coords="271,31,385,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a292f55e6e23d9e582c53a92a8d28eba2"></a><!-- doxytag: member="HKLX::state" ref="a292f55e6e23d9e582c53a92a8d28eba2" args="(_hklx out[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_h_k_l_x.html#a292f55e6e23d9e582c53a92a8d28eba2">HKLX::state</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_h_k_l_x_8h.html#struct__hklx">_hklx</a>&#160;</td>
          <td class="paramname"><em>out</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8cpp_source.html#l00821">821</a> of file <a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a>.</p>

<p>References <a class="el" href="_h_k_l_x_8h_source.html#l00102">_RAM::ID</a>, and <a class="el" href="_h_k_l_x_8h_source.html#l00263">_hklx::RAM</a>.</p>
<div class="fragment"><pre class="fragment">                            {


    pthread_mutex_lock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>.size(); i++) {
        <span class="keywordflow">if</span> (<a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>[i]) {
            memcpy(&amp;out[<a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>[i]].RAM.ID, &amp;<span class="keywordtype">id</span>[<a class="code" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">connected_id</a>[i]].<a class="code" href="_h_k_l_x_8h.html#a4aecc840f41ba552120d54d6c056de09">RAM</a>.<a class="code" href="_h_k_l_x_8h.html#a4d74dde733e991af01495b53fc059f32">ID</a>, sizeof (<a class="code" href="_h_k_l_x_8h.html#struct__hklx">_hklx</a>));
            <a class="code" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">state_ready</a>[i] = 0;
        }
    }
    pthread_mutex_unlock(&amp;<a class="code" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">m_mut</a>);


    <span class="comment">//_hklx id[254];</span>
    <span class="comment">//if(connected)</span>
    <span class="comment">//return id;</span>

    <span class="comment">//return NULL;</span>
}</pre></div>
</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a3b8a78a42300a356da0e61fee81ed845"></a><!-- doxytag: member="HKLX::active" ref="a3b8a78a42300a356da0e61fee81ed845" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_h_k_l_x.html#a3b8a78a42300a356da0e61fee81ed845">HKLX::active</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00339">339</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a1de5786ca81055b6b792e05532e8f7"></a><!-- doxytag: member="HKLX::connected_id" ref="a7a1de5786ca81055b6b792e05532e8f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="class_h_k_l_x.html#a7a1de5786ca81055b6b792e05532e8f7">HKLX::connected_id</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00343">343</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab3d00afec90bd5d2138b0a28a5ecdec2"></a><!-- doxytag: member="HKLX::fr" ref="ab3d00afec90bd5d2138b0a28a5ecdec2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_h_k_l_x.html#ab3d00afec90bd5d2138b0a28a5ecdec2">HKLX::fr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00332">332</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06a014e13af1b8656a160a7345892f6f"></a><!-- doxytag: member="HKLX::hklx_decoder" ref="a06a014e13af1b8656a160a7345892f6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_h_k_l_x_8h.html#structhklx__decoder__t">hklx_decoder_t</a> <a class="el" href="class_h_k_l_x.html#a06a014e13af1b8656a160a7345892f6f">HKLX::hklx_decoder</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00348">348</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="a80091bd2571a9f98fa991a6d9e4a4aaf"></a><!-- doxytag: member="HKLX::hklx_fd" ref="a80091bd2571a9f98fa991a6d9e4a4aaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_h_k_l_x.html#a80091bd2571a9f98fa991a6d9e4a4aaf">HKLX::hklx_fd</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00349">349</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd26d663618766a14b84445b551fa08b"></a><!-- doxytag: member="HKLX::id" ref="afd26d663618766a14b84445b551fa08b" args="[254]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_h_k_l_x_8h.html#struct__hklx">_hklx</a> <a class="el" href="class_h_k_l_x.html#afd26d663618766a14b84445b551fa08b">HKLX::id</a>[254]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00347">347</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3367aa0c9d401bb9a087b2dca2e7a2b4"></a><!-- doxytag: member="HKLX::m_mut" ref="a3367aa0c9d401bb9a087b2dca2e7a2b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="class_h_k_l_x.html#a3367aa0c9d401bb9a087b2dca2e7a2b4">HKLX::m_mut</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00346">346</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac8298dbf1bc35fde4dc35b720e52ad6c"></a><!-- doxytag: member="HKLX::prv" ref="ac8298dbf1bc35fde4dc35b720e52ad6c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>* <a class="el" href="class_h_k_l_x.html#ac8298dbf1bc35fde4dc35b720e52ad6c">HKLX::prv</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00342">342</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="aae8f08299a456ca5934bd4f1fe5d257c"></a><!-- doxytag: member="HKLX::queue" ref="aae8f08299a456ca5934bd4f1fe5d257c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_h_k_l_x_8h.html#structtest__struct">test_struct</a>* <a class="el" href="class_h_k_l_x.html#aae8f08299a456ca5934bd4f1fe5d257c">HKLX::queue</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00341">341</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9cda2ada8a70373d94c5876c4fdc0bc3"></a><!-- doxytag: member="HKLX::start" ref="a9cda2ada8a70373d94c5876c4fdc0bc3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_h_k_l_x.html#a9cda2ada8a70373d94c5876c4fdc0bc3">HKLX::start</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00333">333</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="abf34b81c4609659655689f03c4055778"></a><!-- doxytag: member="HKLX::state_ready" ref="abf34b81c4609659655689f03c4055778" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; <a class="el" href="class_h_k_l_x.html#abf34b81c4609659655689f03c4055778">HKLX::state_ready</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00344">344</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6056a31797f340b7d9960ff1ee8e9630"></a><!-- doxytag: member="HKLX::thread" ref="a6056a31797f340b7d9960ff1ee8e9630" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t <a class="el" href="class_h_k_l_x.html#a6056a31797f340b7d9960ff1ee8e9630">HKLX::thread</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_h_k_l_x_8h_source.html#l00340">340</a> of file <a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_h_k_l_x_8h_source.html">HKLX.h</a></li>
<li><a class="el" href="_h_k_l_x_8cpp_source.html">HKLX.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon May 27 2013 13:06:09 for stag_doc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
